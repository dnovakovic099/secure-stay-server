import logger from "../utils/logger.utils";
import { appDatabase } from "../utils/database.util";
import { ListingScore } from "../entity/ListingScore";

export const updateMgmtFee = async () => {
    const updatedPMFeeList = [
        { listingId: 300017057, pmFee: 0.00 },
        { listingId: 300017553, pmFee: 15.00 },
        { listingId: 300017554, pmFee: 10.00 },
        { listingId: 300017555, pmFee: 20.00 },
        { listingId: 300017556, pmFee: 20.00 },
        { listingId: 300017557, pmFee: 20.00 },
        { listingId: 300017559, pmFee: 20.00 },
        { listingId: 300017560, pmFee: 20.00 },
        { listingId: 300017561, pmFee: 10.00 },
        { listingId: 300017562, pmFee: 10.00 },
        { listingId: 300017563, pmFee: 10.00 },
        { listingId: 300017565, pmFee: 20.00 },
        { listingId: 300017566, pmFee: 12.50 },
        { listingId: 300017567, pmFee: 15.00 },
        { listingId: 300017568, pmFee: 15.00 },
        { listingId: 300017569, pmFee: 12.50 },
        { listingId: 300017570, pmFee: 15.00 },
        { listingId: 300017571, pmFee: 20.00 },
        { listingId: 300017573, pmFee: 10.00 },
        { listingId: 300017574, pmFee: 10.00 },
        { listingId: 300017576, pmFee: 10.00 },
        { listingId: 300017577, pmFee: 0.00 },
        { listingId: 300017578, pmFee: 10.00 },
        { listingId: 300017579, pmFee: 0.00 },
        { listingId: 300017580, pmFee: 10.00 },
        { listingId: 300017581, pmFee: 0.00 },
        { listingId: 300017582, pmFee: 7.00 },
        { listingId: 300017583, pmFee: 0.00 },
        { listingId: 300017584, pmFee: 8.00 },
        { listingId: 300017585, pmFee: 0.00 },
        { listingId: 300017586, pmFee: 10.00 },
        { listingId: 300017587, pmFee: 0.00 },
        { listingId: 300017588, pmFee: 10.00 },
        { listingId: 300017589, pmFee: 0.00 },
        { listingId: 300017591, pmFee: 0.00 },
        { listingId: 300017592, pmFee: 20.00 },
        { listingId: 300017594, pmFee: 15.00 },
        { listingId: 300017595, pmFee: 10.00 },
        { listingId: 300017596, pmFee: 15.00 },
        { listingId: 300017597, pmFee: 0.00 },
        { listingId: 300017598, pmFee: 12.50 },
        { listingId: 300017599, pmFee: 15.00 },
        { listingId: 300017600, pmFee: 18.00 },
        { listingId: 300017601, pmFee: 0.00 },
        { listingId: 300017602, pmFee: 7.00 },
        { listingId: 300017604, pmFee: 15.00 },
        { listingId: 300017605, pmFee: 0.00 },
        { listingId: 300017608, pmFee: 20.00 },
        { listingId: 300017610, pmFee: 10.00 },
        { listingId: 300017611, pmFee: 0.00 },
        { listingId: 300017612, pmFee: 10.00 },
        { listingId: 300017616, pmFee: 10.00 },
        { listingId: 300017620, pmFee: 17.00 },
        { listingId: 300017622, pmFee: 12.50 },
        { listingId: 300017624, pmFee: 15.00 },
        { listingId: 300017626, pmFee: 20.00 },
        { listingId: 300017628, pmFee: 10.00 },
        { listingId: 300017630, pmFee: 10.00 },
        { listingId: 300017636, pmFee: 10.00 },
        { listingId: 300017640, pmFee: 10.00 },
        { listingId: 300017642, pmFee: 10.00 },
        { listingId: 300017644, pmFee: 12.50 },
        { listingId: 300017646, pmFee: 12.50 },
        { listingId: 300017647, pmFee: 0.00 },
        { listingId: 300017648, pmFee: 10.00 },
        { listingId: 300017649, pmFee: 0.00 },
        { listingId: 300017650, pmFee: 15.00 },
        { listingId: 300017652, pmFee: 20.00 },
        { listingId: 300017654, pmFee: 15.00 },
        { listingId: 300017656, pmFee: 20.00 },
        { listingId: 300017658, pmFee: 9.00 },
        { listingId: 300017660, pmFee: 20.00 },
        { listingId: 300017661, pmFee: 0.00 },
        { listingId: 300017662, pmFee: 10.00 },
        { listingId: 300017664, pmFee: 8.00 },
        { listingId: 300017666, pmFee: 10.00 },
        { listingId: 300017668, pmFee: 10.00 },
        { listingId: 300017669, pmFee: 10.00 },
        { listingId: 300017670, pmFee: 10.00 },
        { listingId: 300017672, pmFee: 20.00 },
        { listingId: 300017674, pmFee: 10.00 },
        { listingId: 300017675, pmFee: 10.00 },
        { listingId: 300017676, pmFee: 15.00 },
        { listingId: 300017678, pmFee: 10.00 },
        { listingId: 300017680, pmFee: 10.00 },
        { listingId: 300017682, pmFee: 10.00 },
        { listingId: 300017684, pmFee: 10.00 },
        { listingId: 300017686, pmFee: 10.00 },
        { listingId: 300017688, pmFee: 10.00 },
        { listingId: 300017690, pmFee: 10.00 },
        { listingId: 300017692, pmFee: 10.00 },
        { listingId: 300017696, pmFee: 10.00 },
        { listingId: 300017698, pmFee: 15.00 },
        { listingId: 300017700, pmFee: 15.00 },
        { listingId: 300017702, pmFee: 15.00 },
        { listingId: 300017704, pmFee: 15.00 },
        { listingId: 300017706, pmFee: 15.00 },
        { listingId: 300017708, pmFee: 10.00 },
        { listingId: 300017710, pmFee: 10.00 },
        { listingId: 300017712, pmFee: 10.00 },
        { listingId: 300017714, pmFee: 10.00 },
        { listingId: 300017716, pmFee: 10.00 },
        { listingId: 300017718, pmFee: 10.00 },
        { listingId: 300017720, pmFee: 10.00 },
        { listingId: 300017722, pmFee: 10.00 },
        { listingId: 300017726, pmFee: 10.00 },
        { listingId: 300017728, pmFee: 10.00 },
        { listingId: 300017730, pmFee: 10.00 },
        { listingId: 300017732, pmFee: 10.00 },
        { listingId: 300017734, pmFee: 10.00 },
        { listingId: 300017736, pmFee: 10.00 },
        { listingId: 300017738, pmFee: 10.00 },
        { listingId: 300017739, pmFee: 0.00 },
        { listingId: 300017741, pmFee: 0.00 },
        { listingId: 300017742, pmFee: 10.00 },
        { listingId: 300017743, pmFee: 10.00 },
        { listingId: 300017744, pmFee: 8.00 },
        { listingId: 300017745, pmFee: 10.00 },
        { listingId: 300017746, pmFee: 20.00 },
        { listingId: 300017747, pmFee: 20.00 },
        { listingId: 300017748, pmFee: 10.00 },
        { listingId: 300017749, pmFee: 10.00 },
        { listingId: 300017750, pmFee: 10.00 },
        { listingId: 300017751, pmFee: 10.00 },
        { listingId: 300017752, pmFee: 10.00 },
        { listingId: 300017753, pmFee: 10.00 },
        { listingId: 300017754, pmFee: 10.00 },
        { listingId: 300017755, pmFee: 10.00 },
        { listingId: 300017756, pmFee: 10.00 },
        { listingId: 300017757, pmFee: 10.00 },
        { listingId: 300017758, pmFee: 10.00 },
        { listingId: 300017759, pmFee: 10.00 },
        { listingId: 300017760, pmFee: 15.00 },
        { listingId: 300017761, pmFee: 20.00 },
        { listingId: 300017762, pmFee: 15.00 },
        { listingId: 300017763, pmFee: 20.00 },
        { listingId: 300017764, pmFee: 15.00 },
        { listingId: 300017765, pmFee: 15.00 },
        { listingId: 300017766, pmFee: 15.00 },
        { listingId: 300017767, pmFee: 0.00 },
        { listingId: 300017768, pmFee: 0.00 },
        { listingId: 300017769, pmFee: 0.00 },
        { listingId: 300017770, pmFee: 0.00 },
        { listingId: 300017771, pmFee: 0.00 },
        { listingId: 300017772, pmFee: 0.00 },
        { listingId: 300017773, pmFee: 0.00 },
        { listingId: 300017776, pmFee: 17.00 },
        { listingId: 300017779, pmFee: 10.00 },
        { listingId: 300017780, pmFee: 10.00 },
        { listingId: 300017782, pmFee: 15.00 },
        { listingId: 300017789, pmFee: 10.00 },
        { listingId: 300017792, pmFee: 0.00 },
        { listingId: 300017796, pmFee: 0.00 },
        { listingId: 300017797, pmFee: 0.00 },
        { listingId: 300017798, pmFee: 0.00 },
        { listingId: 300017810, pmFee: 0.00 },
        { listingId: 300017811, pmFee: 0.00 },
        { listingId: 300017815, pmFee: 0.00 },
        { listingId: 300017818, pmFee: 0.00 },
        { listingId: 300017821, pmFee: 15.00 },
        { listingId: 300017822, pmFee: 0.00 },
        { listingId: 300017826, pmFee: 0.00 },
        { listingId: 300017832, pmFee: 0.00 },
        { listingId: 300017834, pmFee: 10.00 },
        { listingId: 300017835, pmFee: 12.50 },
        { listingId: 300017836, pmFee: 0.00 },
        { listingId: 300017841, pmFee: 10.00 },
        { listingId: 300017842, pmFee: 10.00 },
        { listingId: 300017844, pmFee: 15.00 },
        { listingId: 300017847, pmFee: 15.00 },
        { listingId: 300017850, pmFee: 10.00 },
        { listingId: 300017852, pmFee: 15.00 },
        { listingId: 300017856, pmFee: 10.00 },
        { listingId: 300017858, pmFee: 15.00 },
        { listingId: 300017860, pmFee: 17.50 },
        { listingId: 300017862, pmFee: 12.50 },
        { listingId: 300017863, pmFee: 15.00 },
        { listingId: 300017864, pmFee: 10.00 },
        { listingId: 300017865, pmFee: 15.00 },
        { listingId: 300017866, pmFee: 15.00 },
        { listingId: 300017867, pmFee: 15.00 },
        { listingId: 300017868, pmFee: 15.00 },
        { listingId: 300017869, pmFee: 15.00 },
        { listingId: 300017870, pmFee: 15.00 },
        { listingId: 300017872, pmFee: 12.50 },
        { listingId: 300017875, pmFee: 0.00 },
        { listingId: 300017876, pmFee: 0.00 },
        { listingId: 300017877, pmFee: 0.00 },
        { listingId: 300017883, pmFee: 10.00 },
        { listingId: 300017884, pmFee: 15.00 },
        { listingId: 300017885, pmFee: 15.00 },
        { listingId: 300017886, pmFee: 15.00 },
        { listingId: 300017887, pmFee: 5.00 },
        { listingId: 300017892, pmFee: 5.00 },
        { listingId: 300017893, pmFee: 5.00 },
        { listingId: 300017897, pmFee: 7.00 },
        { listingId: 300017898, pmFee: 15.00 },
        { listingId: 300017901, pmFee: 10.00 },
        { listingId: 300017908, pmFee: 20.00 },
        { listingId: 300017909, pmFee: 15.00 },
        { listingId: 300017910, pmFee: 15.00 },
        { listingId: 300017911, pmFee: 15.00 },
        { listingId: 300017912, pmFee: 15.00 },
        { listingId: 300017913, pmFee: 15.00 },
        { listingId: 300017914, pmFee: 12.50 },
        { listingId: 300017916, pmFee: 20.00 },
        { listingId: 300017918, pmFee: 20.00 },
        { listingId: 300017919, pmFee: 20.00 },
        { listingId: 300017922, pmFee: 20.00 },
        { listingId: 300017923, pmFee: 15.00 },
        { listingId: 300017924, pmFee: 20.00 },
        { listingId: 300017925, pmFee: 13.00 },
        { listingId: 300017926, pmFee: 13.00 },
        { listingId: 300017927, pmFee: 15.00 },
        { listingId: 300017929, pmFee: 20.00 },
        { listingId: 300017930, pmFee: 20.00 },
        { listingId: 300017931, pmFee: 20.00 },
        { listingId: 300017932, pmFee: 20.00 },
        { listingId: 300017933, pmFee: 20.00 },
        { listingId: 300017934, pmFee: 20.00 },
        { listingId: 300017935, pmFee: 20.00 },
        { listingId: 300017936, pmFee: 20.00 },
        { listingId: 300017937, pmFee: 20.00 },
        { listingId: 300017938, pmFee: 20.00 },
        { listingId: 300017939, pmFee: 20.00 },
        { listingId: 300017940, pmFee: 20.00 },
        { listingId: 300018369, pmFee: 20.00 },
        { listingId: 300018397, pmFee: 15.00 },
        { listingId: 300018403, pmFee: 10.00 },
        { listingId: 300018404, pmFee: 10.00 },
        { listingId: 300018471, pmFee: 18.00 },
        { listingId: 300018664, pmFee: 10.00 },
        { listingId: 300018767, pmFee: 10.00 },
        { listingId: 300018789, pmFee: 10.00 },
        { listingId: 300018857, pmFee: 10.00 },
        { listingId: 300018860, pmFee: 10.00 },
        { listingId: 300018863, pmFee: 10.00 },
        { listingId: 300018872, pmFee: 15.00 },
        { listingId: 300018891, pmFee: 20.00 },
        { listingId: 300018895, pmFee: 10.00 },
        { listingId: 300018906, pmFee: 10.00 },
        { listingId: 300018920, pmFee: 15.00 },
        { listingId: 300018948, pmFee: 20.00 },
        { listingId: 300018967, pmFee: 20.00 },
        { listingId: 300019043, pmFee: 5.00 },
        { listingId: 300019049, pmFee: 10.00 },
        { listingId: 300019199, pmFee: 12.50 },
        { listingId: 300019203, pmFee: 12.50 },
        { listingId: 300019216, pmFee: 20.00 },
        { listingId: 300019271, pmFee: 10.00 },
        { listingId: 300019272, pmFee: 20.00 },
        { listingId: 300019687, pmFee: 0.00 },
        { listingId: 300019688, pmFee: 20.00 },
        { listingId: 300019711, pmFee: 9.00 },
        { listingId: 300019723, pmFee: 0.00 },
        { listingId: 300019724, pmFee: 0.00 },
        { listingId: 300019725, pmFee: 0.00 },
        { listingId: 300019726, pmFee: 0.00 },
        { listingId: 300019727, pmFee: 0.00 },
        { listingId: 300019728, pmFee: 0.00 },
        { listingId: 300019729, pmFee: 0.00 },
        { listingId: 300019731, pmFee: 0.00 },
        { listingId: 300019732, pmFee: 0.00 },
        { listingId: 300019738, pmFee: 10.00 },
        { listingId: 300019741, pmFee: 0.00 },
        { listingId: 300019803, pmFee: 20.00 },
        { listingId: 300019817, pmFee: 10.00 },
        { listingId: 300019958, pmFee: 10.00 },
        { listingId: 300019978, pmFee: 10.00 },
        { listingId: 300019981, pmFee: 8.00 },
        { listingId: 300019982, pmFee: 8.00 },
        { listingId: 300019983, pmFee: 8.00 },
        { listingId: 300019984, pmFee: 8.00 },
        { listingId: 300019986, pmFee: 10.00 },
        { listingId: 300019989, pmFee: 20.00 },
        { listingId: 300019992, pmFee: 15.00 },
        { listingId: 300019997, pmFee: 15.00 },
        { listingId: 300020120, pmFee: 10.00 }
    ];

    const listingScoreRepo = appDatabase.getRepository(ListingScore);
    for (const item of updatedPMFeeList) {
        const listingId = item.listingId;
        const listingScore = await listingScoreRepo.findOne({ where: { listingId } });
        if (listingScore) {
            listingScore.pmFee = item.pmFee;
            await listingScoreRepo.save(listingScore);
            logger.info(`Updated PM fee for Listing ID: ${listingId} to ${item.pmFee}%`);
        } else {
            logger.warn(`ListingScore not found for Listing ID: ${listingId}`);
            //create new entry
            const newListingScore = new ListingScore();
            newListingScore.listingId = listingId;
            newListingScore.pmFee = item.pmFee;
            await listingScoreRepo.save(newListingScore);
            logger.info(`Created ListingScore and set PM fee for Listing ID: ${listingId} to ${item.pmFee}%`);
        }
    }
};